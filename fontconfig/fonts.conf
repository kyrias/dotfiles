<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<!-- ~/.config/fontconfig/fonts.conf
     http://www.freedesktop.org/software/fontconfig/fontconfig-user.html
-->

<fontconfig>
	<match target="font">
		<edit name="antialias" mode="assign"> <bool>true</bool></edit>
		<edit name="autohint" mode="assign"> <bool>false</bool></edit>
		<edit name="rgba" mode="assign"> <const>rgb</const></edit>
		<edit name="hinting" mode="assign"> <bool>true</bool></edit>
		<edit name="hintstyle" mode="assign"> <const>hintfull</const></edit>
		<edit name="lcdfilter" mode="assign"> <const>lcddefault</const></edit>
		<edit name="embeddedbitmap" mode="assign"> <bool>false</bool></edit>

		<!-- Hack for the not_contains file test to work even when the property
			 is missing -->
		<edit name="file" mode="append"> <string></string> </edit>
	</match>

	<match target="font">
		<test name="fontformat" compare="eq"> <string>Type 1</string> </test>
		<edit name="hintstyle"> <const>hintslight</const> </edit>
	</match>

	<selectfont>
		<rejectfont>
			<pattern> <patelt name="family"> <string>Nimbus Sans L</string> </patelt> </pattern>
			<pattern> <patelt name="family"> <string>Nimbus Mono L</string> </patelt> </pattern>
			<pattern> <patelt name="family"> <string>URW Palladio L</string> </patelt> </pattern>
			<pattern> <patelt name="family"> <string>Clean</string> </patelt> </pattern>
			<pattern> <patelt name="family"> <string>FreeSans</string> </patelt> </pattern>
		</rejectfont>
	</selectfont>

	<!-- Re-enable embedded bitmaps for CJK fonts -->
	<match target="font">
		<test name="lang" compare="contains"> <string>ja</string> </test>
		<edit name="embeddedbitmap"> <bool>true</bool> </edit>
	</match>
	<match target="font">
		<test name="lang" compare="contains"> <string>ko</string> </test>
		<edit name="embeddedbitmap"> <bool>true</bool> </edit>
	</match>
	<match target="font">
		<test name="lang" compare="contains"> <string>zh</string> </test>
		<edit name="embeddedbitmap"> <bool>true</bool> </edit>
	</match>

	<!-- Firefox download fonts -->
	<match target="font">
		<test name="family" compare="contains"> <string>@font-face:</string> </test>
		<test name="file" qual="all" compare="not_contains"> <string>/</string> </test>
		<test name="fontformat" compare="eq"> <string>TrueType</string> </test>
		<edit name="autohint" mode="assign"> <bool>true</bool> </edit>
		<edit name="hintstyle" mode="assign"> <const>hintslight</const> </edit>
	</match>
</fontconfig>
<!-- vim: set ft=xml -->
